{
    "name": "BlueLab Homelab System",
    "description": "Automated homelab deployment with web-based configuration",
    "icon": "<à",
    "category": "homelab",
    "version": "1.0",
    
    "template": {
        "type": "linux",
        "kernel_args": [
            "bluelab.username=${bluelab.username}",
            "bluelab.password=${bluelab.password}",
            "bluelab.hostname=${bluelab.hostname}",
            "bluelab.timezone=${bluelab.timezone}",
            "bluelab.stacks=${bluelab.stacks}",
            "bluelab.tailscale_key=${bluelab.tailscale_key}"
        ],
        "web_form": "web-form.html"
    },
    
    "parameters": {
        "bluelab.username": {
            "type": "string",
            "required": true,
            "default": "bluelab",
            "description": "Admin username",
            "validation": "^[a-zA-Z][a-zA-Z0-9_-]*$"
        },
        "bluelab.password": {
            "type": "password",
            "required": true,
            "description": "Admin password",
            "min_length": 8
        },
        "bluelab.hostname": {
            "type": "string",
            "required": false,
            "default": "bluelab",
            "description": "System hostname",
            "validation": "^[a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?$"
        },
        "bluelab.timezone": {
            "type": "select",
            "required": false,
            "default": "America/New_York",
            "description": "System timezone",
            "options": [
                "America/New_York",
                "America/Chicago", 
                "America/Denver",
                "America/Los_Angeles",
                "America/Phoenix",
                "Europe/London",
                "Europe/Paris",
                "Europe/Berlin",
                "Asia/Tokyo",
                "Asia/Shanghai",
                "Australia/Sydney",
                "UTC"
            ]
        },
        "bluelab.stacks": {
            "type": "select",
            "required": false,
            "default": "monitoring",
            "description": "Initial service stacks",
            "options": [
                "monitoring",
                "monitoring,media",
                "monitoring,media,photos",
                "monitoring,productivity", 
                "all"
            ]
        },
        "bluelab.tailscale_key": {
            "type": "string",
            "required": false,
            "description": "Tailscale authentication key",
            "validation": "^(tskey-auth-[a-zA-Z0-9]+)?$"
        }
    },
    
    "help": {
        "title": "BlueLab Setup Help",
        "sections": [
            {
                "title": "Getting Started",
                "content": "BlueLab provides a complete homelab solution with web-based management. Fill out the form above to configure your system automatically."
            },
            {
                "title": "Username & Password", 
                "content": "These credentials will be used for the main admin account on your system. Choose a strong password as this account has full system access."
            },
            {
                "title": "Hostname",
                "content": "Your system will be accessible at 'hostname.local' on your network. If you have Tailscale enabled, it will also be available as just 'hostname' remotely."
            },
            {
                "title": "Service Stacks",
                "content": "Start with 'monitoring' for your first install. This provides Homepage dashboard and Dockge container manager. You can add more stacks later through the web interface."
            },
            {
                "title": "Tailscale (Optional)",
                "content": "Enables secure remote access to your homelab. Get an auth key from https://login.tailscale.com/admin/settings/keys"
            }
        ]
    },
    
    "boot_info": {
        "estimated_time": "10-15 minutes",
        "requirements": {
            "ram": "8GB minimum",
            "storage": "500GB recommended", 
            "network": "Internet connection required for initial setup"
        },
        "first_boot": {
            "description": "System will configure itself automatically after boot",
            "access_url": "http://${bluelab.hostname}.local:3000",
            "fallback_url": "Check your router's DHCP client list for the system's IP address"
        }
    }
}